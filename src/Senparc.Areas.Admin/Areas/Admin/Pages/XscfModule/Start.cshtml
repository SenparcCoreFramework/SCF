@page
@model Senparc.Areas.Admin.Areas.Admin.Pages.XscfModuleStartModel
@using Scf.Core.Enums;
@{
    ViewData["Title"] = Model.XscfRegister.MenuName;
}
@section breadcrumbs{
    <li>扩展模块</li>
    <li>模块管理</li>
    <li>@Model.XscfRegister.MenuName</li>
}

<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="pull-left" style="width: 100%">
                <div class="row">
                    <div class="col-xs-12 col-md-3 col-lg-3">
                        <p>模块显示名称：@Model.XscfModule.MenuName</p>
                        <p>模块代号：@Model.XscfModule.Name</p>
                    </div>
                    <div class="col-xs-12 col-md-4 col-lg-4">

                        <p>
                            唯一编号：@Model.XscfModule.Uid  /
                            @if (Model.XscfRegister.Version != Model.XscfModule.Version)
                            {
                                <span style="color:red">（发现新版本：@Model.XscfRegister.Version）</span>
                            }
                        </p>
                        <p>
                            当前版本：@Model.XscfModule.Version
                        </p>

                    </div>
                    <div class="col-xs-12 col-md-2 col-lg-2">
                        <p>
                            状态：<strong>@Model.XscfModule.State</strong>
                        </p>
                        <p>
                            @switch (Model.XscfModule.State)
                            {
                                case Scf.Core.Enums.XscfModules_State.关闭:
                                case Scf.Core.Enums.XscfModules_State.新增待审核:
                                case Scf.Core.Enums.XscfModules_State.更新待审核:
                                    <a title="开启" asp-page="Start" asp-page-handler="ChangeState" asp-route-id="@Model.XscfModule.Id" asp-route-tostate="@XscfModules_State.开放" class="btn-sm btn btn-success">
                                        <em class="glyphicon glyphicon-flash"></em> &nbsp;<small>开启</small>
                                    </a>
                                    break;
                                case Scf.Core.Enums.XscfModules_State.开放:
                                    <a title="关闭" asp-page="Start" asp-page-handler="ChangeState" asp-route-id="@Model.XscfModule.Id" asp-route-tostate="@XscfModules_State.关闭" class="btn-sm btn btn-danger">
                                        <em class="glyphicon glyphicon-off"></em> &nbsp;<small>关闭</small>
                                    </a>
                                    break;
                                default:
                                    break;
                            }
                        </p>
                    </div>
                </div>
            <div class="clearfix"></div>
            <div class="x_content">
                <div class="table-responsive">
                    <table class="table table-striped jambo_table bulk_action">
                        <thead>
                            <tr class="headings">
                                <th class="column-title">方法名称</th>
                                <th class="column-title">说明</th>
                                <th class="column-title">参数透视</th>
                                <th class="column-title">操作 </th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.FunctionParammeterInfoCollection)
                            {
                                <tr class="pointer">

                                    <td class=" ">@item.Key.Name </td>
                                    <td class=" ">@item.Key.Description</td>
                                    <td class=" ">
                                        @foreach (var p in item.Value)
                                        {
                                            <p><strong>@p.Title</strong>：@p.Description</p>
                                        }
                                    </td>
                                    <td class=" ">
                                        <a href="javascript:void(0);" title="操作" class="btn-xs btn btn-info">
                                            <em class="fa fa-pencil-square-o">操作</em>
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <div class="text-center p jpagerbar">
                    @*@Html.Raw((Html.PagerBar(Model.FunctionParammeterInfoCollection, new PagerBarSettings(Url.Page("/XscfModule/Index", new
                        {
                            pageIndex = "{0}"
                        }))
                        {
                            NoRecordTip = "暂无数据",
                            ShowTotalCount = true
                        })))*@
                </div>
            </div>
        </div>
    </div>
</div>
